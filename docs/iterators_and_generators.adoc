include::./.asciidoctor/.asciidoctorconfig[]

== Ð“Ð»Ð°Ð²Ð° 14. Ð˜Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹, Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹.

Ð˜Ñ‚ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ -- Ð¾Ð´Ð½Ð° Ð¸Ð· Ð²Ð°Ð¶Ð½ÐµÐ¹ÑˆÐ¸Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…. Ð ÐµÑÐ»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð½Ð°Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð½Ðµ Ð¿Ð¾Ð¼ÐµÑ‰Ð°ÑŽÑ‰Ð¸Ð¹ÑÑ Ñ†ÐµÐ»Ð¸ÐºÐ¾Ð¼ Ð² Ð¿Ð°Ð¼ÑÑ‚ÑŒ, Ñ‚Ð¾ Ð½ÑƒÐ¶ÐµÐ½ ÑÐ¿Ð¾ÑÐ¾Ð± Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ ÐµÑ‘ _Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾_, Ñ‚.Ðµ. Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ Ð¸ Ð¿Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ. Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð² ÑÑ‚Ð¾Ð¼ ÑÐ¼Ñ‹ÑÐ» Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð° *Ð˜Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€*.

ÐšÐ»ÑŽÑ‡ÐµÐ²Ð¾Ðµ ÑÐ»Ð¾Ð²Ð¾ *yield* (_Ð¿Ð¾ÑÐ²Ð¸Ð»Ð¾ÑÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Py >= 2.2_) Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ°Ðº Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹.

TIP: Ð›ÑŽÐ±Ð¾Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼: Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ Ð²ÐµÑÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð². ÐÐ¾ Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€ -- Ð² Ñ‚Ð¾Ð¼ Ð²Ð¸Ð´Ðµ, ÐºÐ°Ðº Ð¾Ð½ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½ Ð² ÐºÐ½Ð¸Ð³Ðµ "Ð‘Ð°Ð½Ð´Ñ‹ Ñ‡ÐµÑ‚Ñ‹Ñ€Ñ‘Ñ…", -- Ð¸Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, Ñ‚Ð¾Ð³Ð´Ð° ÐºÐ°Ðº Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°Ñ‚ÑŒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ "Ð¸Ð· Ð²Ð¾Ð·Ð´ÑƒÑ…Ð°". Ð¢Ð¸Ð¿Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð¼ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ñ‡Ð¸ÑÐµÐ» Ð¤Ð¸Ð±Ð¾Ð½Ð°Ñ‡Ñ‡Ð¸ -- Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð½ÐµÐ»ÑŒÐ·Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸. ÐžÐ´Ð½Ð°ÐºÐ¾, Ð½Ð°Ð´Ð¾ Ð¸Ð¼ÐµÑ‚ÑŒ Ð² Ð²Ð¸Ð´Ñƒ, Ñ‡Ñ‚Ð¾ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ðµ Python ÑÐ»Ð¾Ð²Ð° _Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€_ Ð¸ _Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€_ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ðº ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹.

=== ÐšÐ»Ð°ÑÑ Sentence, Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ° â„– 1: ÐŸÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ»Ð¾Ð².

Ð’ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½ ÐºÐ»Ð°ÑÑ `Sentence`, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑƒÐ¼ÐµÐµÑ‚ Ð¸Ð·Ð²Ð»ÐµÐºÐ°Ñ‚ÑŒ Ð¸Ð· Ñ‚ÐµÐºÑÑ‚Ð° ÑÐ»Ð¾Ð²Ð¾ Ñ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¼ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼.

.`sentence.py`: Ð¾Ð±ÑŠÐµÐºÑ‚ `Sentence` ÐºÐ°Ðº Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ»Ð¾Ð²
[source, python]
----
include::{sourcedir}/sentence.py[]
----

Ð’ÑÑÐºÐ¸Ð¹ Ñ€Ð°Ð· ÐºÐ¾Ð³Ð´Ð° Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ‚Ð¾Ñ€Ñƒ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ð¾Ð¹Ñ‚Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚ `x`, Ð¾Ð½ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `iter(x)`.

Ð’ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `iter(x)` Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ.

1. Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ð¼, Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð»Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚ Ð¼ÐµÑ‚Ð¾Ð´ `\\__iter__`, Ð¸ ÐµÑÐ»Ð¸ Ð´Ð°, Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÐµÐ³Ð¾, Ñ‡Ñ‚Ð¾ Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€.

2. Ð•ÑÐ»Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ `\\__iter__` Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½, Ð½Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ð¼ÐµÑ‚Ð¾Ð´ `\\__getitem__`, Ñ‚Ð¾ Python ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ Ð¸Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ñ‹Ñ‚Ð°ÐµÑ‚ÑÑ Ð¸Ð·Ð²Ð»ÐµÐºÐ°Ñ‚ÑŒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ, Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ Ñ Ð¸Ð½Ð´ÐµÐºÑÐ° 0.

3. Ð•ÑÐ»Ð¸ Ð¸ ÑÑ‚Ð¾ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ, Ñ‚Ð¾ Ð²Ð¾Ð·Ð±ÑƒÐ¶Ð´Ð°ÐµÑ‚ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ -- Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÐ¼ `_C_ object is not iterable`, Ð³Ð´Ðµ _C_ -- ÐºÐ»Ð°ÑÑ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°.

.`sentence_iter.py`:  ÐºÐ»Ð°ÑÑ `Sentence`, Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð° Ð˜Ñ‚ÐµÑ€Ð°Ñ‚Ð¾Ñ€
[source, python]
----
include::{sourcedir}/sentence_iter.py[]
----

.`sentence_gen.py`:  ÐºÐ»Ð°ÑÑ `Sentence`, Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð° Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°
[source, python]
----
include::{sourcedir}/sentence_gen.py[]
----


=== ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ


NOTE: Ð›ÑŽÐ±Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Python, Ð² Ñ‚ÐµÐ»Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°ÐµÑ‚ÑÑ ÑÐ»Ð¾Ð²Ð¾ `yield`, Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹ -- Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ð¾Ð½Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¾Ð±ÑŠÐµÐºÑ‚-Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€.


.`sentence_gen2.py`:  ÐºÐ»Ð°ÑÑ `Sentence`, Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð° Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°
[source, python]
----
include::{sourcedir}/sentence_gen2.py[]
----


NOTE: Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ -- Ð·Ð°Ð¼ÐµÑ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± ÑÐ¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´, Ð½Ð¾ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÐµÑ‰Ñ‘ ÐºÑ€ÑƒÑ‡Ðµ.

ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ð°Ð¿Ð¾Ð´Ð¾Ð±Ð¸Ðµ Ñ‚Ð¾Ð¹, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ðµ ÐºÐ»Ð°ÑÑÐ° `Sentence`, Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ _Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¼ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÐµÐ¼_.

ÐœÐ¾Ð¶Ð½Ð¾ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ -- Ð»ÐµÐ½Ð¸Ð²Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ ÑÐ¿Ð¸ÑÐºÐ¾Ð²Ð¾Ð³Ð¾ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ: Ð¾Ð½Ð° Ð½Ðµ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ½ÐµÑ€Ð³Ð¸Ñ‡Ð½Ð¾, Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð»ÐµÐ½Ð¸Ð²Ð¾ Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¿Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ.

.Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `gen_AB` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð² ÑÐ¿Ð¸ÑÐºÐ¾Ð²Ð¾Ð¼ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¸, Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ð² Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸.
[source, doctest]
----
>>> def gen_AB():
...     print('start')
...     yield 'A'
...     print('continue')
...     yield 'B'
...     print('end.')
...
>>> res1 = [x*3 for x in gen_AB()] # Ð¡Ð¿Ð¸ÑÐºÐ¾Ð²Ð¾Ðµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÑÐ½ÐµÑ€Ð³Ð¸Ñ‡Ð½Ð¾ Ð¾Ð±Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð¼-Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹ gen_AB.
start
continue
end.
>>> for i in res1:
...     print('-->', i)
...
--> AAA
--> BBB
>>> res2 = (x*3 for x in gen_AB())
>>> res2
<generator object <genexpr> at 0x0000020BAC482C00>
>>> for i in res2:
...     print('-->', i)
...
start
--> AAA
continue
--> BBB
end.
----

Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€, Ð¸ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ ÑÑ‚Ð¸Ð¼ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ð¾ Ð±Ñ‹ ÐµÑ‰Ñ‘ ÑÐ¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€ ÐºÐ»Ð°ÑÑÐ° Sentence.

.`sentence_genexp.py`: Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ»Ð°ÑÑÐ° `Sentence` Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ð³Ð¾ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ.
[source, python]
----
include::{sourcedir}/sentence_genexp.py[]
----

Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ - ÑÑ‚Ð¾ Ð½Ðµ Ð±Ð¾Ð»ÐµÐµ Ñ‡ÐµÐ¼ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ°Ñ Ð³Ð»Ð°Ð·ÑƒÑ€ÑŒ: Ð¸Ñ… Ð²ÑÐµÐ³Ð´Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¼Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸.

=== ÐŸÐ¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµcÑÐ¸Ð¸


[source, python]
----
include::{sourcedir}/aritprog_gen.py[]
----

=== ÐŸÐ¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ¸Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `itertools`

TIP: Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ `itertools.count` Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€, Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÑŽÑ‰Ð¸Ð¹ Ñ‡Ð¸ÑÐ»Ð°. Ð‘ÐµÐ· Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ Ñ€ÑÐ´ Ñ†ÐµÐ»Ñ‹Ñ… Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ Ñ 0. Ð ÐµÑÐ»Ð¸ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ `start` Ð¸ `step`, Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑÑ…Ð¾Ð¶Ð¸Ð¹ Ñ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð´Ð°ÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `aritprog_gen`

ÐžÐ´Ð½Ð°ÐºÐ¾ `itertools.count` Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ.

TIP: `itertools.takewhile` - Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÑÐµÑ‚ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð¸ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ, ÐºÐ¾Ð³Ð´Ð° Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ñ€ÐµÐ´Ð¸ÐºÐ°Ñ‚ ÑÑ‚Ð°Ð½ÐµÑ‚ Ñ€Ð°Ð²ÐµÐ½ `False`.


[source, doctest]
----
>>> import itertools
>>> gen = itertools.takewhile(lambda n: n<3, itertools.count(1, .5))
>>> list (gen)
[1, 1.5, 2.0, 2.5]
----


.`aritprog_v3.py`: Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð°Ðº Ð¶Ðµ ÐºÐ°Ðº Ð¸ `aritprog_gen.py`
[source, python]
----
include::{sourcedir}/aritprog_v3.py[]
----

=== Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ

.Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÑŽÑ‰Ð¸Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
|===
|ÐœÐ¾Ð´ÑƒÐ»ÑŒ |Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ |ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

.2+^.^|`itertools`
^.^|`compress(it, selector_it)`
|ÐŸÐ¾Ñ‚Ñ€ÐµÐ±Ð»ÑÐµÑ‚ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð¾ Ð´Ð²Ð° Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð°; Ð¾Ñ‚Ð´Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ `it`, ÐºÐ¾Ð³Ð´Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ `selector_it` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¸ÑÑ‚Ð¸Ð½Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ.


^.^|`dropwhile(predicate, it)`
|ÐŸÐ¾Ñ‚Ñ€ÐµÐ±Ð»ÑÐµÑ‚ `it`, Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ð¾ÐºÐ° `predicate` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐµ Ð½Ð° Ð¸ÑÑ‚Ð¸Ð½Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ, Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ð¾Ñ‚Ð´Ð°ÐµÑ‚ Ð²ÑÐµ Ð¾ÑÑ‚Ð°Ð²ÑˆÐ¸ÐµÑÑ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ (Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº Ð½Ðµ Ð´ÐµÐ»Ð°ÐµÑ‚)

^.^|Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ
^.^|`filter(predicate, it)`
|ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ Ð¿Ñ€ÐµÐ´Ð¸ÐºÐ°Ñ‚ Ðº ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°, Ð¾Ñ‚Ð´Ð°Ð²Ð°Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚, ÐµÑÐ»Ð¸ `predicate(item)` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐµ Ð½Ð° Ð¸ÑÑ‚Ð¸Ð½Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ; ÐµÑÐ»Ð¸ `predicate` Ñ€Ð°Ð²ÐµÐ½ `None`, Ð¾Ñ‚Ð´Ð°ÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ðµ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ.

.3+^.^|`itertools`
^.^|`filterfalse(predicate, it)`
|Ð¢Ð¾ Ð¶Ðµ, Ñ‡Ñ‚Ð¾ `filter`, Ð½Ð¾ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¸Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°: Ð¾Ñ‚Ð´Ð°ÑŽÑ‚ÑÑ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð¿Ñ€ÐµÐ´Ð¸ÐºÐ°Ñ‚Ð° Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐµ Ð½Ð° Ð»Ð¾Ð¶ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ.


^.^|`islice(it, stop)` Ð¸Ð»Ð¸ `islice(it, start, stop, step=1)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð· ÑÑ€ÐµÐ·Ð° `it` Ð¿Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ð¸ Ñ `s[:stop]` Ð¸Ð»Ð¸ `s[start:stop:step]`, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ `it` Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ñ‹Ð¼ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð¼, Ð° Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð»ÐµÐ½Ð¸Ð²Ð°Ñ.


|`takewhile(predicate, it)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ð¾ÐºÐ° `predicate` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐµ Ð½Ð° Ð¸ÑÑ‚Ð¸Ð½Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ, Ð·Ð°Ñ‚ÐµÐ¼ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ, Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº Ð½Ðµ Ð´ÐµÐ»Ð°ÐµÑ‚ÑÑ.
|===

.ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÑŽÑ‰Ð¸Ñ… Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
[source,doctest]
----
>>> def vowel(c):
...     return c.lower() in 'aeiou'
>>> list(filter(vowel, 'Aardvark'))
['A', 'a', 'a']
>>> import itertools
>>> list(itertools.filterfalse(vowel, 'Aardvark'))
['r', 'd', 'v', 'r', 'k']
>>> list(itertools.dropwhile(vowel, 'Aardvark'))
['r', 'd', 'v', 'a', 'r', 'k']
>>> list(itertools.takewhile(vowel, 'Aardvark'))
['A', 'a']
>>> list(itertools.compress('Aardvark', (1,0,1,1,0,1)))
['A', 'r', 'd', 'a']
>>> list(itertools.islice('Aardvark', 4))
['A', 'a', 'r', 'd']
>>> list(itertools.islice('Aardvark', 4, 7))
['v', 'a', 'r']
>>> list(itertools.islice('Aardvark', 1, 4, 7))
['a']
>>> list(itertools.islice('Aardvark', 1, 7, 2))
['a', 'd', 'a']
----

.ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‰Ð¸Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
|===
|ÐœÐ¾Ð´ÑƒÐ»ÑŒ |Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ |ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

^.^|`itertools`
^.^|`accumulate(it, [func])`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ Ð½Ð°ÐºÐ¾Ð¿Ð»ÐµÐ½Ð½Ñ‹Ðµ ÑÑƒÐ¼Ð¼Ñ‹; ÐµÑÐ»Ð¸ Ð·Ð°Ð´Ð°Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `func`, Ñ‚Ð¾ Ð¾Ñ‚Ð´Ð°ÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚, Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ ÐµÑ‘ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð¿Ð°Ñ€Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð², Ð·Ð°Ñ‚ÐµÐ¼ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñƒ Ð¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ Ð¸ Ñ‚.Ð´.

.2+^.^|Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ
^.^|`enumerate(iterable, start=0`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ 2-ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ð¸ Ð²Ð¸Ð´Ð° `(index, item)`, Ð³Ð´Ðµ `index` Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ `start`, Ð° `item`, Ð¸Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ÑÑ Ð¸Ð· `iterable`.

^.^|`map(func, it1, [it2, ..., itN])`
|ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ `func` Ðº ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ `it` Ð¸ Ð¾Ñ‚Ð´Ð°ÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚; ÐµÑÐ»Ð¸ Ð·Ð°Ð´Ð°Ð½Ð¾ `N` Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð², Ñ‚Ð¾ `func` Ð´Ð¾Ð»Ð¶Ð½Ð° Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ `N` Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð², Ð¸ Ð²ÑÐµ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹ Ð¾Ð±Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð¾.

^.^|`itertools`
^.^|`starmap(func, it)`
|ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ `func` Ðº ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ `it` Ð¸ Ð¾Ñ‚Ð´Ð°ÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚; Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð¹ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ð¹ Ð¾Ð±ÑŠÐµÐºÑ‚ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹ `iit`, Ð° `func` Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² Ð²Ð¸Ð´Ðµ `func(*iit)`
|===

.ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ `itertools.accumulate`
[source,doctest]
----
>>> sample = [5, 4, 2, 8, 7, 6, 3, 0, 9, 1]
>>> list(itertools.accumulate(sample)) # Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÑƒÐ¼Ð¼Ñ‹.
[5, 9, 11, 19, 26, 32, 35, 35, 44, 45]
>>> list(itertools.accumulate(sample, min)) # Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼Ñ‹.
[5, 4, 2, 2, 2, 2, 2, 0, 0, 0]
>>> list(itertools.accumulate(sample, max)) # Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼Ñ‹.
[5, 5, 5, 8, 8, 8, 8, 8, 9, 9]
>>> import operator
>>> list(itertools.accumulate(sample, operator.mul)) # Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ.
[5, 20, 40, 320, 2240, 13440, 40320, 0, 0, 0]
>>> list(itertools.accumulate(range(1, 11), operator.mul)) # Ð¤Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ñ‹ Ð¾Ñ‚ 1! Ð´Ð¾ 10!.
[1, 2, 6, 24, 120, 720, 5040, 40320, 362880, 3628800]
----

.ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‰Ð¸Ñ… Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
[source, doctest]
----
>>> list(enumerate('XOMRKOB', 1))
[(1, 'X'), (2, 'O'), (3, 'M'), (4, 'R'), (5, 'K'), (6, 'O'), (7, 'B')]
>>> list(map(operator.mul, range(11), range(11))) # ÐšÐ²Ð°Ð´Ñ€Ð°Ñ‚Ñ‹ Ñ†ÐµÐ»Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ» Ð¾Ñ‚ 0 Ð´Ð¾ 10
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
>>> list(map(operator.mul, range(11), [2, 4, 8])) # ÐŸÐµÑ€ÐµÐ¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ†ÐµÐ»Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ» Ð¸Ð· Ð´Ð²ÑƒÑ… Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²; Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ, ÐºÐ¾Ð³Ð´Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚ ÐºÐ¾Ð½ÐµÑ† Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°.
[0, 4, 16]
>>> list(map(lambda a, b: (a, b), range(11), [2, 4, 8])) # Ð¢Ð¾ Ð¶Ðµ ÑÐ°Ð¼Ð¾Ðµ Ð´ÐµÐ»Ð°ÐµÑ‚ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ zip
[(0, 2), (1, 4), (2, 8)]
>>> list(itertools.starmap(operator.mul, enumerate('albatroz', 1))) # ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹ ÑÐ»Ð¾Ð²Ð°, ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ€Ð°Ð·, ÐºÐ°ÐºÐ¾Ð² Ð½Ð¾Ð¼ÐµÑ€ ÐµÐµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸
['a', 'll', 'bbb', 'aaaa', 'ttttt', 'rrrrrr', 'ooooooo', 'zzzzzzzz']
>>> sample = [5, 4, 2, 8, 7, 6, 3, 0, 9, 1]
>>> list(itertools.starmap(lambda a, b: b/a, enumerate(itertools.accumulate(sample), 1))) # Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾Ðµ ÑÑ€ÐµÐ´Ð½ÐµÐµ ðŸ˜µ
[5.0, 4.5, 3.6666666666666665, 4.75, 5.2, 5.333333333333333, 5.0, 4.375, 4.888888888888889, 4.5]
----

|===
|ÐœÐ¾Ð´ÑƒÐ»ÑŒ |Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ |ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

.3+^.^|`itertools`
^.^|`chain(it1, ..., itN)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ Ð²ÑÐµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð· `it1`, Ð·Ð°Ñ‚ÐµÐ¼ Ð¸Ð· `it2` Ð¸ Ñ‚.Ð´.

^.^|`chain.from_iterable(it)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ Ð²ÑÐµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð· ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°, Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÐ¼Ð¾Ð³Ð¾ `it`, Ð¿ÐµÑ€ÐµÐ±Ð¸Ñ€Ð°Ñ Ð¸Ñ… Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼; `it` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°Ñ‚ÑŒ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ ÑÑ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð².

^.^|`product(it1, ..., itN, repeat=1)`
|Ð”ÐµÐºÐ°Ñ€Ñ‚Ð¾Ð²Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ: Ð¾Ñ‚Ð´Ð°ÐµÑ‚ N-ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ð¸, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð¿ÑƒÑ‚Ñ‘Ð¼ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸Ð· ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°,- Ñ‚Ð°Ðº, ÐºÐ°Ðº ÑÑ‚Ð¾ Ð´ÐµÐ»Ð°Ð»Ð¾ÑÑŒ Ð±Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ… Ñ†Ð¸ÐºÐ»Ð¾Ð² `for`; Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ `repeat` Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ð±Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð°.

^.^|Ð²ÑÑ‚Ð¾Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ
^.^|`zip(it1, ..., itN)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ N-ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ð¸, Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð· ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±ÐµÑ€ÑƒÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð¾ Ð¸Ð· Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²; Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð¿Ð¾ Ð¸ÑÑ‡ÐµÑ€Ð¿Ð°Ð½Ð¸ÑŽ ÑÐ°Ð¼Ð¾Ð³Ð¾ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ð³Ð¾ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°.

^.^|`itertools`
^.^|`zip_longest(it1, ..., itN, fillvalue=None)`
|ÐžÑ‚Ð´Ð°ÐµÑ‚ N-ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ð¸, Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð· ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±ÐµÑ€ÑƒÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð¾ Ð¸Ð· Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²; Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð¿Ð¾ Ð¸ÑÑ‡ÐµÑ€Ð¿Ð°Ð½Ð¸ÑŽ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð´Ð»Ð¸Ð½Ð½Ð¾Ð³Ð¾ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°, Ð° Ð²Ð¼ÐµÑÑ‚Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°ÑŽÑ‰Ð¸Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `fillvalue`.
|===

.ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽÑ‰Ð¸Ñ… Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
[source, doctest]
----
>>> list(itertools.chain('ABC', range(2))) # chain Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ 2Ð¼Ñ Ð¸ Ð±Ð¾Ð»ÐµÐµ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²
['A', 'B', 'C', 0, 1]
>>> list(itertools.chain(enumerate('ABC'))) # ÐŸÑ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ñ Ð¾Ð´Ð½Ð¸Ð¼ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð¼, chain Ð½Ðµ Ð´ÐµÐ»Ð°ÐµÑ‚ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾
[(0, 'A'), (1, 'B'), (2, 'C')]
>>> list(itertools.chain.from_iterable(enumerate('ABC'))) # chain.from_iterable Ð±ÐµÑ€Ñ‘Ñ‚ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð¸Ð· Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð° Ð¸ ÑÑ†ÐµÐ¿Ð»ÑÐµÑ‚ Ð¸Ñ… Ð² Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ð¿Ñ€Ð¸ ÑƒÑÐ»Ð¾Ð²Ð¸Ð¸, Ñ‡Ñ‚Ð¾ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¸Ñ‚ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ð¼ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð¼
[0, 'A', 1, 'B', 2, 'C']
>>> list(zip('ABC', range(5)))
[('A', 0), ('B', 1), ('C', 2)]
>>> list(zip('ABC', range(5), [10, 20, 30, 40]))
[('A', 0, 10), ('B', 1, 20), ('C', 2, 30)]
>>> list(itertools.zip_longest('ABC', range(5), [10, 20, 30, 40]))
[('A', 0, 10), ('B', 1, 20), ('C', 2, 30), (None, 3, 40), (None, 4, None)]
----

